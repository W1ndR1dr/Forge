{
  "version": "1.0.0",
  "features": {
    "wave0-enhanced-init": {
      "id": "wave0-enhanced-init",
      "title": "Enhanced Init",
      "description": "Scan codebase, ask vision questions, generate project-context.md",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T12:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T12:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 0 - init.py with codebase scanning",
      "tags": [
        "wave0",
        "cli",
        "foundation"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave0-backend-crud": {
      "id": "wave0-backend-crud",
      "title": "Backend Edit/Delete Endpoints",
      "description": "PATCH and DELETE endpoints for features in server.py",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T12:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T12:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 0 - Full CRUD in server.py",
      "tags": [
        "wave0",
        "backend",
        "foundation"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave0-prompt-template-v2": {
      "id": "wave0-prompt-template-v2",
      "title": "Prompt Template v2",
      "description": "Expert consultation + research patterns in prompt_builder.py",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T12:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T12:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 0 - Rich prompts with expert patterns",
      "tags": [
        "wave0",
        "prompts",
        "foundation"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave1-brainstorm-mode": {
      "id": "wave1-brainstorm-mode",
      "title": "Brainstorm Mode",
      "description": "Claude chat with product strategist system prompt, outputs READY_FOR_APPROVAL JSON",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T17:30:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T17:30:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 1 - brainstorm.py with CLI integration",
      "tags": [
        "wave1",
        "cli",
        "claude"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave1-proposal-parser": {
      "id": "wave1-proposal-parser",
      "title": "Proposal Parser",
      "description": "Parse READY_FOR_APPROVAL JSON from Claude output",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T17:30:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T17:30:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 1 - Parser in brainstorm.py + AppState.swift",
      "tags": [
        "wave1",
        "parser"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave1-approve-decline-defer-ui": {
      "id": "wave1-approve-decline-defer-ui",
      "title": "Approve/Decline/Defer UI",
      "description": "SwiftUI views for reviewing brainstorm proposals before adding to registry",
      "status": "completed",
      "priority": 2,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T20:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T20:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 1 - ProposalReviewView.swift, ProposalCard.swift",
      "tags": [
        "wave1",
        "swiftui",
        "gui"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave1-copy-prompt": {
      "id": "wave1-copy-prompt",
      "title": "Copy Prompt to Clipboard",
      "description": "One-click copy of generated implementation prompt from FeatureCard",
      "status": "completed",
      "priority": 1,
      "complexity": "small",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T18:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T18:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 1 - Core workflow feature",
      "tags": [
        "wave1",
        "clipboard",
        "workflow"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave1-feature-editing": {
      "id": "wave1-feature-editing",
      "title": "Feature Editing in GUI",
      "description": "Edit features directly in SwiftUI app, not just CLI",
      "status": "completed",
      "priority": 2,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T18:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T18:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 1 - FeatureEditSheet.swift",
      "tags": [
        "wave1",
        "swiftui",
        "gui"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave1-macos-app-core": {
      "id": "wave1-macos-app-core",
      "title": "macOS App Core",
      "description": "XcodeGen project, data models, Kanban view, feature cards, sidebar navigation",
      "status": "completed",
      "priority": 1,
      "complexity": "large",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T15:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T15:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 1 - Full macOS app with KanbanView, FeatureCard, ProjectListView, AppState, APIClient",
      "tags": [
        "wave1",
        "macos",
        "swiftui"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave2-ios-app": {
      "id": "wave2-ios-app",
      "title": "iOS Companion App",
      "description": "iPhone app with Kanban view, brainstorm input, proposal review, settings",
      "status": "completed",
      "priority": 1,
      "complexity": "large",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T20:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T20:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 2 - FlowForgeApp_iOS.swift with full feature set",
      "tags": [
        "wave2",
        "ios",
        "swiftui"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave2-realtime-sync": {
      "id": "wave2-realtime-sync",
      "title": "Real-time Sync",
      "description": "WebSocket for live updates across devices (macOS + iOS)",
      "status": "completed",
      "priority": 2,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T10:00:00.000000",
      "updated_at": "2025-12-24T18:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T18:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 2 - WebSocketClient.swift + server.py WebSocket endpoints",
      "tags": [
        "wave2",
        "websocket",
        "sync"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave25-connection-status": {
      "id": "wave25-connection-status",
      "title": "iOS Connection Status UI",
      "description": "Green/red indicator in toolbar, test connection button, error display",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T18:00:00.000000",
      "updated_at": "2025-12-24T20:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T20:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 2.5 - ConnectionStatusBadge, testConnection(), iOSSettingsView",
      "tags": [
        "wave25",
        "ios",
        "ux"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave25-tailscale-config": {
      "id": "wave25-tailscale-config",
      "title": "Tailscale Auto-Configuration",
      "description": "Auto-detect Tailscale MagicDNS hostname, persist server URL",
      "status": "completed",
      "priority": 1,
      "complexity": "small",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T19:00:00.000000",
      "updated_at": "2025-12-24T20:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T20:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 2.5 - PlatformConfig.swift with Tailscale hostname",
      "tags": [
        "wave25",
        "networking",
        "tailscale"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave25-brainstorm-input": {
      "id": "wave25-brainstorm-input",
      "title": "Brainstorm Input View",
      "description": "TextView for pasting READY_FOR_APPROVAL output, wired to proposal review",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T20:00:00.000000",
      "updated_at": "2025-12-24T21:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T21:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 2.5 - BrainstormInputView.swift, replaces placeholder",
      "tags": [
        "wave25",
        "brainstorm",
        "gui"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave25-app-icons": {
      "id": "wave25-app-icons",
      "title": "App Icons with Dark Mode",
      "description": "Light/dark mode icons for macOS (.icns) and iOS (asset catalog)",
      "status": "completed",
      "priority": 2,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T21:00:00.000000",
      "updated_at": "2025-12-24T22:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T22:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 2.5 - AppIcon.icns for macOS, AppIcon.appiconset for iOS",
      "tags": [
        "wave25",
        "design",
        "icons"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave3-blocked-column": {
      "id": "wave3-blocked-column",
      "title": "Blocked Column (5th Status)",
      "description": "Add 'blocked' status to Kanban with red/warning column and block reason field",
      "status": "completed",
      "priority": 2,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:00:00.000000",
      "updated_at": "2025-12-24T23:16:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T23:16:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 3 - Feature.swift blocked status + KanbanView 5th column",
      "tags": [
        "wave3",
        "kanban",
        "status"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave3-keyboard-shortcuts": {
      "id": "wave3-keyboard-shortcuts",
      "title": "Keyboard Shortcuts",
      "description": "Cmd+N new feature, Cmd+R refresh, arrow navigation, Cmd+1-5 column jump",
      "status": "completed",
      "priority": 3,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:00:00.000000",
      "updated_at": "2025-12-24T23:18:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T23:18:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 3 - FlowForgeApp.swift .commands block",
      "tags": [
        "wave3",
        "macos",
        "keyboard"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave3-search-filter": {
      "id": "wave3-search-filter",
      "title": "Search & Filter",
      "description": "Search bar in toolbar, tag filter chips, status filter for Kanban",
      "status": "completed",
      "priority": 4,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:00:00.000000",
      "updated_at": "2025-12-24T23:19:00.000000",
      "started_at": null,
      "completed_at": "2025-12-24T23:19:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 3 - KanbanView search and filter state",
      "tags": [
        "wave3",
        "search",
        "filter"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave4-max-features": {
      "id": "wave4-max-features",
      "title": "Max 3 Features Constraint",
      "description": "Enforce max 3 planned features to prevent decision paralysis",
      "status": "completed",
      "priority": 1,
      "complexity": "small",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:30:00.000000",
      "updated_at": "2025-12-25T00:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-25T00:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 4.1 - registry.py MAX_PLANNED_FEATURES + GUI slots indicator",
      "tags": [
        "wave4",
        "constraints",
        "shipping-machine"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave4-scope-creep-detection": {
      "id": "wave4-scope-creep-detection",
      "title": "Scope Creep Detection",
      "description": "AI detects 'and also', 'plus', 'additionally' and suggests smaller scope",
      "status": "completed",
      "priority": 2,
      "complexity": "small",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:30:00.000000",
      "updated_at": "2025-12-25T00:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-25T00:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 4.1 - brainstorm.py check_shippable() + /scope-check endpoint",
      "tags": [
        "wave4",
        "constraints",
        "shipping-machine"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave4-build-command": {
      "id": "wave4-build-command",
      "title": "forge build Command",
      "description": "One command: idea -> scope check -> worktree -> prompt -> Claude Code",
      "status": "completed",
      "priority": 1,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:30:00.000000",
      "updated_at": "2025-12-25T00:15:00.000000",
      "started_at": null,
      "completed_at": "2025-12-25T00:15:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 4.2 - cli.py build() combines add + start + prompt copy",
      "tags": [
        "wave4",
        "cli",
        "shipping-machine"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave4-ship-command": {
      "id": "wave4-ship-command",
      "title": "forge ship Command",
      "description": "One command: merge to main, update streak, celebrate",
      "status": "completed",
      "priority": 2,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [
        "wave4-build-command"
      ],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:30:00.000000",
      "updated_at": "2025-12-25T00:20:00.000000",
      "started_at": null,
      "completed_at": "2025-12-25T00:20:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 4.2 - cli.py ship() wraps merge + cleanup + streak update",
      "tags": [
        "wave4",
        "cli",
        "shipping-machine"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave4-shipping-streaks": {
      "id": "wave4-shipping-streaks",
      "title": "Shipping Streak Display",
      "description": "Track current_streak, longest_streak, total_shipped. Show in GUI toolbar.",
      "status": "completed",
      "priority": 1,
      "complexity": "small",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:30:00.000000",
      "updated_at": "2025-12-25T00:30:00.000000",
      "started_at": null,
      "completed_at": "2025-12-25T00:30:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 4.4 - registry.py ShippingStats + AppState.swift + /shipping-stats endpoint",
      "tags": [
        "wave4",
        "momentum",
        "gamification"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave4-mission-control": {
      "id": "wave4-mission-control",
      "title": "Mission Control Dashboard",
      "description": "Today's Mission, Up Next (2/3), Shipped This Week. Prominent SHIP button.",
      "status": "completed",
      "priority": 2,
      "complexity": "large",
      "parent_id": null,
      "children": [],
      "depends_on": [
        "wave4-shipping-streaks"
      ],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:30:00.000000",
      "updated_at": "2025-12-25T01:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-25T01:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 4.4 - MissionControlView.swift + ContentView toggle",
      "tags": [
        "wave4",
        "gui",
        "shipping-machine"
      ],
      "session_id": null,
      "extensions": {}
    },
    "wave3-pi-deployment": {
      "id": "wave3-pi-deployment",
      "title": "Pi Deployment",
      "description": "Systemd service, deploy script, health check endpoint for 24/7 server",
      "status": "completed",
      "priority": 5,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-24T23:00:00.000000",
      "updated_at": "2025-12-26T12:00:00.000000",
      "started_at": null,
      "completed_at": "2025-12-26T12:00:00.000000",
      "spec_path": null,
      "prompt_path": null,
      "notes": "Wave 3 - Deployed to Pi with systemd, Tailscale, offline-first caching",
      "tags": [
        "wave3",
        "devops",
        "pi"
      ],
      "session_id": null,
      "extensions": {}
    },
    "add-hidereveal-for-sidebar-projects": {
      "id": "add-hidereveal-for-sidebar-projects",
      "title": "Sidebar Project Hide/Reveal",
      "description": "Users can hide individual projects from the sidebar to reduce clutter, with a collapsible \"Hidden\" section at the bottom to reveal and restore them. Hidden state persists across app launches.\n\nHow it works:\n- Right-click (macOS) or long-press (iOS) on a project shows context menu with \"Hide Project\" option\n- Hidden projects move to a collapsible \"Hidden (N)\" section at the bottom of the sidebar\n- Clicking the \"Hidden\" section header expands/collapses the list\n- Right-click/long-press on a hidden project shows \"Show Project\" to restore it\n- Hidden project IDs stored in UserDefaults/AppStorage\n- Hidden projects still sync and update in background, just not displayed in main list\n\nFiles likely affected:\n- `FlowForgeApp/Views/Sidebar/ProjectListView.swift` (or equivalent sidebar view)\n- `FlowForgeApp/Models/AppState.swift` (add hiddenProjectIds: Set<String>)\n- `FlowForgeApp/Services/APIClient.swift` (filter hidden from display, not from fetch)\n\nEstimated scope: Small (< 1 hour)",
      "status": "completed",
      "priority": 5,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-26T16:36:07.092701",
      "updated_at": "2025-12-27T13:05:27.138584",
      "started_at": "2025-12-27T12:13:44.609653",
      "completed_at": "2025-12-27T13:17:14.744137",
      "spec_path": null,
      "prompt_path": "/Users/Brian/Projects/Active/FlowForge/.flowforge/prompts/add-hidereveal-for-sidebar-projects.md",
      "notes": null,
      "tags": [],
      "session_id": null,
      "extensions": {}
    },
    "should-move-the-brain-button-and-the-plus-button-s": {
      "id": "should-move-the-brain-button-and-the-plus-button-s",
      "title": "Quick Brainstorm Button (Contextual Idea Generator)",
      "description": "Separates the capture UI into two distinct buttons: a + button for freetext quick capture, and a brain button that generates 3 contextual idea suggestions based on the project's existing features and recent commits. Users tap any suggestion to add it to the inbox instantly.\n\nHow it works:\n- + button opens existing quick capture input (freetext, low friction)\n- Brain button shows a popover with loading state (pulsing brain or skeleton chips)\n- Backend fetches: project name, existing feature titles, last ~15 git commits\n- AI generates 3 short-phrase ideas that don't duplicate existing/completed features\n- Ideas appear as tappable chips in the popover\n- Tapping a chip instantly adds it to inbox as \"idea\" status\n- User can tap brain again for 3 more if nothing resonates (magic 8-ball style)\n- Popover dismisses after selection or tap-outside\n\nFiles likely affected:\n- `FlowForgeApp/Views/VibeInput.swift` (split into + and brain buttons)\n- `flowforge/server.py` (new `/brainstorm/quick` endpoint)\n- `flowforge/intelligence.py` (quick brainstorm prompt generation)\n- `FlowForgeApp/Services/APIClient.swift` (new endpoint call)\n- `FlowForgeApp/Views/Components/BrainstormPopover.swift` (new view)\n\nEstimated scope: Medium (1-3 hours)",
      "status": "idea",
      "priority": 5,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-26T22:23:13.293773",
      "updated_at": "2025-12-27T14:05:47.085119",
      "started_at": "2025-12-27T10:44:31.333809",
      "completed_at": null,
      "spec_path": null,
      "prompt_path": "/Users/Brian/Projects/Active/FlowForge/.flowforge/prompts/should-move-the-brain-button-and-the-plus-button-s.md",
      "notes": null,
      "tags": [],
      "session_id": null,
      "extensions": {
        "crystallization_history": [
          {
            "role": "user",
            "content": "Help me crystallize this idea: should move the brain button and the plus button.  + should be to add a freetext idea and the brain button should generate ?a few? ideas in simple short words from which the user can select any to add to the inbox (bootstrapping creativity)"
          },
          {
            "role": "assistant",
            "content": "I like this idea! You're separating two distinct flows: quick capture (the +) and AI-assisted brainstorming (the brain).\n\nLet me make sure I understand the brain button flow:\n\nWhen the user taps the brain button, the AI generates a few short idea prompts. Then the user can select any (or multiple?) to add to their inbox.\n\n**My first question**: Where do these generated ideas appear? \n\nOptions I'm imagining:\n1. A dropdown/popover near the brain button with the ideas as tappable chips\n2. A modal/sheet that appears with the list\n3. They appear inline in the sidebar somehow\n\nWhich feels right for the UI you're picturing?\n"
          },
          {
            "role": "user",
            "content": "probably a popover but i imagine might take a second to generate ideas so something not too UX breaking?  WHat is a modal/sheet?"
          },
          {
            "role": "assistant",
            "content": "Good instinct on the loading time! A popover works well here - it can show a subtle loading state (maybe a pulsing brain icon or a few skeleton chips) while generating, then smoothly reveal the ideas when ready. Less jarring than a full takeover.\n\nA modal/sheet is like a full-screen or half-screen overlay that demands attention - think the iOS share sheet or a settings panel. For quick idea selection, that's probably overkill. Popover keeps you in flow.\n\n**Next question**: When the AI generates ideas, should they be:\n\n1. **Contextual** - based on the current project's existing features (e.g., if you're working on FlowForge, it might suggest \"batch operations\" or \"keyboard shortcuts for Kanban\")\n2. **Generic/inspirational** - random productivity/feature prompts to spark creativity\n3. **User-configurable** - maybe a blend, or you pick the style?\n\nWhat would help you most when you're stuck and need that creative bootstrap?\n"
          },
          {
            "role": "user",
            "content": "definately contextual, that would be needed for bootstrapping so i suppose thats some complexity but how would you approach"
          },
          {
            "role": "assistant",
            "content": "Smart call - contextual is way more useful for actually getting unstuck.\n\nFor the context, I'd keep it lightweight:\n\n**What to feed the AI:**\n- Project name\n- List of existing feature titles (already in the registry)\n- Maybe the most recent 2-3 features added (shows current focus)\n\nThat's usually enough for the AI to understand the domain and suggest complementary ideas. No need to send full feature specs or code.\n\n**On the backend:**\nThe `/brainstorm` endpoint already exists (used by BrainstormChatView). We could add a simpler `/brainstorm/quick` endpoint that:\n1. Takes project context\n2. Returns 3-5 short phrase ideas (not full specs, just sparks)\n3. Fast prompt, fast response\n\n**Question**: How many ideas feel right? \n\n- 3 ideas = quick to scan, low cognitive load\n- 5 ideas = more options but still digestible\n- Or a \"give me more\" button to generate another batch?\n\nWhat's your gut say?\n"
          },
          {
            "role": "user",
            "content": "prob 3 is fine, can run it arbitrary number of times and is like a magic 8 ball... idk tho can it look at github commits for inspiration and to not overlap?  i suppose the failure mode is duplicating already done work so maybe this would help?"
          },
          {
            "role": "assistant",
            "content": "Love the magic 8-ball vibe - shake it, get 3 ideas, shake again if none hit.\n\nThe GitHub commits idea is clever for avoiding duplicates! Here's my thinking:\n\n**What would actually help:**\n1. **Existing features list** (already planned) - prevents \"add dark mode\" when it's already done\n2. **Recent commit messages** - could show what's been shipped lately so AI doesn't suggest \"add keyboard shortcuts\" when that just landed\n\n**The catch with commits:**\n- Needs git access (already have via worktree code)\n- Commits can be cryptic (\"fix: typo\") vs. feature-level\n- Could grab last ~10-20 commits, let AI parse what's meaningful\n\n**Simpler alternative:**\n- Just compare generated ideas against existing feature titles before showing\n- If AI suggests something too similar to an existing feature, filter it out\n\n**My question**: Is the main concern duplicating *completed* work, or also avoiding overlap with *in-progress* features?\n\nThe registry already tracks feature status (idea/planned/in-progress/completed), so we could be smart about what to exclude.\n"
          },
          {
            "role": "user",
            "content": "i like 10-20 commits and AI parse, existing list feature, there are CLaude generated commit messages so there should be some reasonable english descriptions for most or all commits?  not as worried about duplicating in progress things because the paralellizability is bottlenecked by my brain (which cant do TOO many things at once). make sense?"
          },
          {
            "role": "assistant",
            "content": "Makes total sense! The commit messages being Claude-generated is a nice bonus - they should be descriptive and parseable.\n\nSo the flow is:\n1. User taps brain button\n2. Popover shows with loading state\n3. Backend grabs: project name + existing feature titles + last ~15 commits\n4. AI generates 3 short idea phrases that don't overlap with existing/shipped work\n5. User taps any to add to inbox (as \"idea\" status)\n6. Can tap brain again for 3 more if nothing hits\n\n**One more question**: When the user taps an idea chip to add it, should it:\n\nA) **Instantly add to inbox** with that exact short phrase as the title (fast, magic 8-ball feel)\n\nB) **Pre-fill the quick capture** with that phrase, letting them tweak before adding (more control)\n\nGiven your \"bootstrapping creativity\" framing, I'm guessing A feels right - the whole point is low friction when you're stuck. They can always edit later. But want to confirm!\n"
          },
          {
            "role": "user",
            "content": "well this is pre-crystallization so doesnt need to be too fancy but if we get decent ideas for free (i.e. good ideas are as cheap as bad ideas then great).  The second pass is what we're doing at this very moment in fact!  bootstrapping in action!"
          },
          {
            "role": "assistant",
            "content": "Ha! Yes, exactly - this is literally the second pass in action. Quick capture \u2192 crystallize \u2192 implement. The system working as designed.\n\nAlright, I think we've got enough clarity here. Let me write this up:\n\n---\n\nSPEC_READY\n\nFEATURE: Quick Brainstorm Button (Contextual Idea Generator)\n\nWHAT IT DOES:\nSeparates the capture UI into two distinct buttons: a + button for freetext quick capture, and a brain button that generates 3 contextual idea suggestions based on the project's existing features and recent commits. Users tap any suggestion to add it to the inbox instantly.\n\nHOW IT WORKS:\n- + button opens existing quick capture input (freetext, low friction)\n- Brain button shows a popover with loading state (pulsing brain or skeleton chips)\n- Backend fetches: project name, existing feature titles, last ~15 git commits\n- AI generates 3 short-phrase ideas that don't duplicate existing/completed features\n- Ideas appear as tappable chips in the popover\n- Tapping a chip instantly adds it to inbox as \"idea\" status\n- User can tap brain again for 3 more if nothing resonates (magic 8-ball style)\n- Popover dismisses after selection or tap-outside\n\nFILES LIKELY AFFECTED:\n- `FlowForgeApp/Views/VibeInput.swift` (split into + and brain buttons)\n- `flowforge/server.py` (new `/brainstorm/quick` endpoint)\n- `flowforge/intelligence.py` (quick brainstorm prompt generation)\n- `FlowForgeApp/Services/APIClient.swift` (new endpoint call)\n- `FlowForgeApp/Views/Components/BrainstormPopover.swift` (new view)\n\nESTIMATED SCOPE:\nMedium (1-3 hours)\n"
          }
        ]
      }
    },
    "context-phase-1-cleanup-done-removed-feature-analy": {
      "id": "context-phase-1-cleanup-done-removed-feature-analy",
      "title": "Context\nPhase 1 cleanup done (removed feature_analyzer.py, expert_router.py).\n\nCurrent problem: Recent commits made ALL operations require Mac via SSH. This breaks the core iOS use case - capturing ideas when MacBook is asleep.\n\nGoal\nRegistry lives on Pi. Git operations still need Mac.\n\nOperation\tWhere it runs\tMac required?\nList features\tPi (local read)\t\u274c\nAdd/update/delete feature\tPi (local write)\t\u274c\nStart feature (worktree)\tMac via SSH\t\u2705\nStop/merge feature\tMac via SSH\t\u2705\nStep 1: Evaluate Existing Code\n[CHANGED] Before writing new code, check if cache.py/sync.py can be repurposed or if simpler is better:\n\n# What do these files actually do?\nhead -60 flowforge/cache.py   # SQLite-based, might be overkill\nhead -60 flowforge/sync.py    # Background sync, conflict resolution\n\nDecision point:\n\nOption A: Repurpose existing cache.py (SQLite) - more robust, already written\nOption B: Simple JSON files on Pi (/var/flowforge/registries/{project}/registry.json) - simpler, matches Mac structure\nRecommend Option B for simplicity - just mirror the Mac's JSON structure on Pi.\n\nStep 2: Add Pi-Local Registry Storage\nConfig (environment variable):\n\nFLOWFORGE_REGISTRY_PATH=/var/flowforge/registries  # Pi-local path\n\nStructure:\n\n/var/flowforge/registries/\n\u251c\u2500\u2500 AirFit/\n\u2502   \u2514\u2500\u2500 registry.json\n\u251c\u2500\u2500 FlowForge/\n\u2502   \u2514\u2500\u2500 registry.json\n\u2514\u2500\u2500 ...\n\nStep 3: Update mcp_server.py\n[CHANGED] These functions currently use SSH for everything. Change to local reads/writes:\n\nFunction\tCurrent\tChange to\n_get_project_context()\tSSH read\tLocal read from Pi\n_add_feature()\tSSH (forge add)\tLocal write to Pi\n_update_feature()\tSSH read/write\tLocal read/write\n_delete_feature()\tSSH read/write\tLocal read/write\n_start_feature()\tSSH\tLocal registry update + SSH for git worktree\n_stop_feature()\tSSH\tLocal registry update + SSH for git commands\n_merge_feature()\tSSH\tLocal registry update + SSH for git merge\nStep 4: Update server.py\n[CHANGED] Remove dead offline-queue logic, but KEEP the Mac-online checks for git operations:\n\nRemove imports (lines 30-31):\n\n# DELETE these - we're replacing with simpler approach\nfrom .cache import CacheManager, get_cache_manager\nfrom .sync import SyncManager, get_sync_manager\n\nRemove sync_manager and cache_manager variables and initialization\n\nSimplify endpoints:\n\nlist_projects: Read local registry, no cache fallback needed\nlist_features: Read local registry\nadd_feature: Write local registry (works offline!)\nstart_feature: Keep Mac-online check (needs git)\nmerge_feature: Keep Mac-online check (needs git)\nRemove /api/{project}/pending - Already done in commit 70b3e76\n\nRemove /api/system/sync - Already done in commit 70b3e76\n\nStep 5: Delete Dead Files\nrm flowforge/cache.py   # 433 lines - replaced by simple JSON\nrm flowforge/sync.py    # 433 lines - no longer needed\n\nStep 6: One-Time Migration\nCopy existing registries from Mac to Pi:\n\n# On Pi, for each project:\nssh $FLOWFORGE_MAC_USER@$FLOWFORGE_MAC_HOST \\\n  \"cat /Users/Brian/Projects/Active/AirFit/.flowforge/registry.json\" \\\n  > /var/flowforge/registries/AirFit/registry.json\n\nStep 7: Sync Strategy (Keep Simple)\nWhen Mac comes online and git operations happen:\n\nAfter start_feature: Pi registry is already updated locally\nAfter merge_feature: Update local registry with result\nNo background sync needed - Pi is source of truth for registry\nEdge case: If someone uses forge CLI directly on Mac, Pi won't know. Accept this limitation or add a \"refresh from Mac\" button later.\n\nTesting\n# Mac CLOSED:\n- Add feature from iPhone \u2192 \u2705 Should work (Pi-local)\n- List features \u2192 \u2705 Should work (Pi-local)\n- Start feature \u2192 \u274c Should fail with \"Mac offline\" message\n\n# Mac OPEN:\n- Start feature \u2192 \u2705 Creates worktree via SSH\n- Stop/Merge \u2192 \u2705 Git ops via SSH\n\nSummary of changes from original prompt:\n\nRemoved already-done items (endpoint deletions)\nAdded decision point: repurpose cache.py vs simple JSON\nClarified that current SSH-only code was wrong direction\nSimplified sync strategy (no background sync, Pi is truth for registry)\nAdded edge case acknowledgment (direct forge CLI usage)",
      "description": null,
      "status": "inbox",
      "priority": 5,
      "complexity": "medium",
      "parent_id": null,
      "children": [],
      "depends_on": [],
      "blocked_by": [],
      "branch": null,
      "worktree_path": null,
      "created_at": "2025-12-27T13:06:49.336779",
      "updated_at": "2025-12-27T13:06:49.336785",
      "started_at": null,
      "completed_at": null,
      "spec_path": null,
      "prompt_path": null,
      "notes": null,
      "tags": [],
      "session_id": null,
      "extensions": {}
    }
  },
  "merge_queue": [],
  "shipping_stats": {
    "current_streak": 1,
    "longest_streak": 1,
    "total_shipped": 24,
    "last_ship_date": "2025-12-25"
  }
}